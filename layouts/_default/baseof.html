<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>{{ block "title" . }}{{ if .IsHome }}{{ .Site.Title }}{{ else }}{{ with .Title }}{{ . }} Â· {{ end }}{{ .Site.Title }}{{ end }}{{ end }}</title>
  {{ partial "seo.html" . }}
  <link rel="icon" href="{{ "favicon.ico" | absURL }}" type="image/x-icon" />
  <link rel="shortcut icon" href="{{ "favicon.ico" | absURL }}" type="image/x-icon" />
  <link rel="manifest" href="{{ "site.webmanifest" | absURL }}" />
  <meta name="theme-color" content="#0b1220" />
  {{ partial "game-shared-styles.html" . }}
  {{ block "styles" . }}{{ end }}
</head>
<body class="min-h-screen {{ block "body_class" . }}{{ end }}">
  <a class="skip-link" href="#mainContent">Skip to content</a>
  {{ partial "site-utility.html" . }}
  {{ block "main" . }}{{ end }}
  {{ block "footer" . }}{{ end }}
  {{ partial "game-win-overlay.html" . }}
  {{ partial "game-touch-controls.html" . }}
  <script src="{{ "js/game/ui/sound.js" | relURL }}"></script>
  <script src="{{ "js/game/ui/fitLetters.js" | relURL }}"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const app = window.Capacitor?.Plugins?.App;
      if (!app) return;
      app.addListener('backButton', ({ canGoBack }) => {
        if (canGoBack) {
          window.history.back();
        } else {
          app.exitApp();
        }
      });
    });
  </script>
  {{ block "scripts" . }}{{ end }}
</body>
</html>
